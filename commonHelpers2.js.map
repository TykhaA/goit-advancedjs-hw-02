{"version":3,"file":"commonHelpers2.js","sources":["../src/js/02-timer.js"],"sourcesContent":["import flatpickr from \"flatpickr\";\nimport \"flatpickr/dist/flatpickr.min.css\";\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nconst start = document.querySelector('button[data-start]'),\n  day = document.querySelector('.value[data-days]'),\n  hour = document.querySelector('.value[data-hours]'),\n  minute = document.querySelector('.value[data-minutes]'),\n  second = document.querySelector('.value[data-seconds]');\n\nstart.disabled = true;\nlet selectedDate = null;\nconst options = {\n    enableTime: true,\n    time_24hr: true,\n    defaultDate: new Date(),\n    minuteIncrement: 1,\n    onClose(selectedDates) {\n        selectedDate = selectedDates[0];\n        chooseDate();\n\n    },\n};\niziToast.settings({\n    timeout: 3000, \n    resetOnHover: true,\n    transitionIn: 'flipInX',\n    backgroundColor: 'red',\n    titleColor: '#fff',\n    position: 'topRight'\n });\n\nflatpickr(\"#datetime-picker\", options);\nfunction chooseDate() {\n    const currentDate = Date.parse(new Date());\n   \n    if (Date.parse(selectedDate) < currentDate) {\n        iziToast.show({\n            title: 'Please choose a date in the future.',\n            \n        });\n    } else {\n        start.disabled = false;\n    }\n}\nstart.addEventListener('click', handleStart);\nfunction deadline() {\n    return Date.parse(selectedDate) - Date.parse(new Date());\n}\nfunction handleStart() {\n    const setinterval = setInterval(updateTimer, 1000);\n    start.disabled = true;\n    function updateTimer() {\n        const dateDeadline = deadline()\n        const { days, hours, minutes, seconds } = convertMs(dateDeadline);\n        if (dateDeadline <= 0) {\n            day.innerHTML =  '00';\n            hour.innerHTML = '00';\n            minute.innerHTML = '00';\n            second.innerHTML = '00';\n            clearInterval(setinterval);\n            return\n        }\n        day.innerHTML =  addLeadingZero(days);\n        hour.innerHTML = addLeadingZero(hours);\n        minute.innerHTML = addLeadingZero(minutes);\n        second.innerHTML = addLeadingZero(seconds);\n    }\n}\n\nfunction addLeadingZero(value) {\n    return value.toString().padStart(2, '0');\n}\nfunction convertMs(ms) {\n    // Number of milliseconds per unit of time\n    const second = 1000;\n    const minute = second * 60;\n    const hour = minute * 60;\n    const day = hour * 24;\n\n    // Remaining days\n    const days = Math.floor(ms / day);\n    // Remaining hours\n    const hours = Math.floor((ms % day) / hour);\n    // Remaining minutes\n    const minutes = Math.floor(((ms % day) % hour) / minute);\n    // Remaining seconds\n    const seconds = Math.floor((((ms % day) % hour) % minute) / second);\n\n    return { days, hours, minutes, seconds };\n}"],"names":["start","day","hour","minute","second","selectedDate","options","selectedDates","chooseDate","iziToast","flatpickr","currentDate","handleStart","deadline","setinterval","updateTimer","dateDeadline","days","hours","minutes","seconds","convertMs","addLeadingZero","value","ms"],"mappings":"+IAKA,MAAMA,EAAQ,SAAS,cAAc,oBAAoB,EACvDC,EAAM,SAAS,cAAc,mBAAmB,EAChDC,EAAO,SAAS,cAAc,oBAAoB,EAClDC,EAAS,SAAS,cAAc,sBAAsB,EACtDC,EAAS,SAAS,cAAc,sBAAsB,EAExDJ,EAAM,SAAW,GACjB,IAAIK,EAAe,KACnB,MAAMC,EAAU,CACZ,WAAY,GACZ,UAAW,GACX,YAAa,IAAI,KACjB,gBAAiB,EACjB,QAAQC,EAAe,CACnBF,EAAeE,EAAc,GAC7BC,GAEH,CACL,EACAC,EAAS,SAAS,CACd,QAAS,IACT,aAAc,GACd,aAAc,UACd,gBAAiB,MACjB,WAAY,OACZ,SAAU,UACd,CAAE,EAEFC,EAAU,mBAAoBJ,CAAO,EACrC,SAASE,GAAa,CAClB,MAAMG,EAAc,KAAK,MAAM,IAAI,IAAM,EAErC,KAAK,MAAMN,CAAY,EAAIM,EAC3BF,EAAS,KAAK,CACV,MAAO,qCAEnB,CAAS,EAEDT,EAAM,SAAW,EAEzB,CACAA,EAAM,iBAAiB,QAASY,CAAW,EAC3C,SAASC,GAAW,CAChB,OAAO,KAAK,MAAMR,CAAY,EAAI,KAAK,MAAM,IAAI,IAAM,CAC3D,CACA,SAASO,GAAc,CACnB,MAAME,EAAc,YAAYC,EAAa,GAAI,EACjDf,EAAM,SAAW,GACjB,SAASe,GAAc,CACnB,MAAMC,EAAeH,EAAU,EACzB,CAAE,KAAAI,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,GAAYC,EAAUL,CAAY,EAChE,GAAIA,GAAgB,EAAG,CACnBf,EAAI,UAAa,KACjBC,EAAK,UAAY,KACjBC,EAAO,UAAY,KACnBC,EAAO,UAAY,KACnB,cAAcU,CAAW,EACzB,MACH,CACDb,EAAI,UAAaqB,EAAeL,CAAI,EACpCf,EAAK,UAAYoB,EAAeJ,CAAK,EACrCf,EAAO,UAAYmB,EAAeH,CAAO,EACzCf,EAAO,UAAYkB,EAAeF,CAAO,CAC5C,CACL,CAEA,SAASE,EAAeC,EAAO,CAC3B,OAAOA,EAAM,SAAU,EAAC,SAAS,EAAG,GAAG,CAC3C,CACA,SAASF,EAAUG,EAAI,CAQnB,MAAMP,EAAO,KAAK,MAAMO,EAAK,KAAG,EAE1BN,EAAQ,KAAK,MAAOM,EAAK,MAAO,IAAI,EAEpCL,EAAU,KAAK,MAAQK,EAAK,MAAO,KAAQ,GAAM,EAEjDJ,EAAU,KAAK,MAASI,EAAK,MAAO,KAAQ,IAAU,GAAM,EAElE,MAAO,CAAE,KAAAP,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,CAAO,CAC1C"}