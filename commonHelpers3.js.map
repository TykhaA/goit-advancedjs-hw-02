{"version":3,"file":"commonHelpers3.js","sources":["../src/js/03-promises.js"],"sourcesContent":["import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nconst form = document.querySelector('.form')\n\nform.addEventListener('submit', handleSubmit);\n\niziToast.settings({\n    timeout: 3000, \n    resetOnHover: true,\n    position: 'topRight',\n});\n \nfunction handleSubmit(evt) {\n  evt.preventDefault();\n  const { delay, step, amount } = evt.currentTarget.elements;\n\n  const delayValue = delay.value;\n  const stepValue = step.value;\n  const amauntValue = amount.value;\n  if (delayValue && stepValue && amauntValue) {\n    let firstDelae = delayValue;\n    for (let i = 1; i <= amauntValue; i++){\n      createPromise(i, firstDelae)\n        .then(({ position, delay }) => {\n          iziToast.success({\n            message: `✅ Fulfilled promise ${position} in ${delay}ms`,\n          \n          });\n        })\n        .catch(({ position, delay }) => {\n          iziToast.error({\n            message: `✅ Rejected promise ${position} in ${delay}ms`,\n          });\n        })\n        .finally(() => form.reset());\n      firstDelae = +firstDelae + +stepValue;\n    }\n  }\n}\nfunction createPromise(position, delay) {\n  const shouldResolve = Math.random() > 0.3;\n  return new Promise((res, rej) => {\n    if (shouldResolve) {\n      setTimeout(() => {res({position, delay})},delay)\n    } else {\n     setTimeout(() => {rej({position, delay})},delay)\n  }\n  })\n}\n"],"names":["form","handleSubmit","iziToast","evt","delay","step","amount","delayValue","stepValue","amauntValue","firstDelae","i","createPromise","position","shouldResolve","res","rej"],"mappings":"wIAGA,MAAMA,EAAO,SAAS,cAAc,OAAO,EAE3CA,EAAK,iBAAiB,SAAUC,CAAY,EAE5CC,EAAS,SAAS,CACd,QAAS,IACT,aAAc,GACd,SAAU,UACd,CAAC,EAED,SAASD,EAAaE,EAAK,CACzBA,EAAI,eAAc,EAClB,KAAM,CAAE,MAAAC,EAAO,KAAAC,EAAM,OAAAC,CAAQ,EAAGH,EAAI,cAAc,SAE5CI,EAAaH,EAAM,MACnBI,EAAYH,EAAK,MACjBI,EAAcH,EAAO,MAC3B,GAAIC,GAAcC,GAAaC,EAAa,CAC1C,IAAIC,EAAaH,EACjB,QAASI,EAAI,EAAGA,GAAKF,EAAaE,IAChCC,EAAcD,EAAGD,CAAU,EACxB,KAAK,CAAC,CAAE,SAAAG,EAAU,MAAAT,KAAY,CAC7BF,EAAS,QAAQ,CACf,QAAS,uBAAuBW,QAAeT,KAE3D,CAAW,CACX,CAAS,EACA,MAAM,CAAC,CAAE,SAAAS,EAAU,MAAAT,KAAY,CAC9BF,EAAS,MAAM,CACb,QAAS,sBAAsBW,QAAeT,KAC1D,CAAW,CACX,CAAS,EACA,QAAQ,IAAMJ,EAAK,MAAK,CAAE,EAC7BU,EAAa,CAACA,GAAa,CAACF,CAE/B,CACH,CACA,SAASI,EAAcC,EAAUT,EAAO,CACtC,MAAMU,EAAgB,KAAK,OAAM,EAAK,GACtC,OAAO,IAAI,QAAQ,CAACC,EAAKC,IAAQ,CAE7B,WADEF,EACS,IAAM,CAACC,EAAI,CAAC,SAAAF,EAAU,MAAAT,CAAK,CAAC,CAAC,EAE9B,IAAM,CAACY,EAAI,CAAC,SAAAH,EAAU,MAAAT,CAAK,CAAC,CAAC,EAFGA,CAAK,CAIrD,CAAG,CACH"}